(this.webpackJsonpcfm_to_erb=this.webpackJsonpcfm_to_erb||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n(1),l=n.n(a),i=n(4),o=n.n(i),u=(n(10),n(3)),s=["cfset","cfcontinue","cfelse","cfelseif","cfqueryparam","cfparam","cfbreak","cfinclude"];function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.name=e,this.content=t,this.children=[],this.add=function(e){this.children.push(e),e.parent=this},this.first=function(e){return this.children[0]}}function p(e){var t=e.split(/(<cf[\s\S]+?>|<\/cf.*?>)/),n=new f("root"),c=n;return t.forEach((function(e,t){if(e.match(/<cf[\s\S]+?>/)){var n=e.match(/<(cf[a-z]+)[\s\S]*?>/);if(n){var r=new f(n[1],n[0]);if(c.add(r),s.includes(r.name))return;c=r}}else if(e.match(/<\/cf.*?>/)){var a=e.match(/<\/(cf.*?)>/);a&&a[1]===c.name&&(c=c.parent)}else c.add(new f("text",e))})),n}function h(e){return e.trim().replaceAll(/is equal/gi,"==").replaceAll(/ eq /gi," == ").replaceAll(/ is not /gi," != ").replaceAll(/not equal/gi,"!=").replaceAll(/ neq /gi," != ").replaceAll(/greater than/gi,">").replaceAll(/ gt /gi," > ").replaceAll(/less than/gi,"<").replaceAll(/ lt /gi," < ").replaceAll(/greater than or equal to/gi,">=").replaceAll(/ gte /gi," >= ").replaceAll(/ ge /gi," >= ").replaceAll(/less than or equal to/gi,"<=").replaceAll(/ lte /gi," <= ").replaceAll(/ le /gi," <= ").replaceAll(/ is /gi," == ").replaceAll(/ and /gi," && ").replaceAll(/ or /gi," || ").replaceAll(/chkPermission\("([\w"]+)"\) (is|==) 1/g,'chk_permission?("$1")').replaceAll(/IsNumeric\(([\w"]+?)\)/g,"is_numeric?($1)").replaceAll(/ == ""/g,".blank?")}function m(e){switch(e.name){case"root":return d(e);case"cfif":return function(e){var t=e.content.replaceAll(/<cfif ([\s\S]*?)>/g,(function(e,t){return"<% if ".concat(h(t)," %>")}));if(1===e.children.length&&"text"===e.first().name&&e.first().content.trim().length<50&&e.first().content.trim().length>0)return t.replace("<% if",'<%= "'.concat(e.first().content.trim(),'" if'));return t+=d(e),t+="<% end %>"}(e);case"text":return function(e){var t=e.content;if(!(t=t.replaceAll(/##/g,"==@@")).match(/#/))return t.replaceAll("==@@","#");for(var n=t.split(/(["#'])/),c=-1,r=0,a=0,l=0;l<n.length;l++)"#"!==n[l]?r>0&&('"'===n[l]||"'"===n[l])&&(a+=1):(-1===c&&(c=l),(r+=1)>0&&r%2===0&&a%2===0&&-1!==c&&(n[c]="<%= ",n[l]=" %>",r=0,a=0,c=-1));return n.join("").replaceAll("==@@","#")}(e);case"cfelse":return"<% else %>";case"cfelseif":return function(e){return e.content.replaceAll(/<cfelseif ([\s\S]*?)>/g,(function(e,t){return"<% elsif ".concat(h(t)," %>")}))}(e);case"cfset":return function(e){return e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,t,n){return"<% ".concat(t," = ").concat(h(n)," %>")}))}(e);case"cfbreak":return"<% break %>";case"cfloop":return function(e){var t=e.content.match(/index="(\w+?)"/),n=e.content.match(/from="(\w+?)"/),c=e.content.match(/to="(\w+?)"/),r=e.content.match(/step="(\w+?)"/),a=e.content.match(/query="(\w+?)"/);if(a){var l="<% @".concat(a[1],".each do |").concat(A(a[1]),"| %>");return l+=d(e),(l+="<% end %>").replaceAll(a[1],A(a[1]))}if(t&&n&&c){var i="<% ".concat(n[1],".step(").concat(c[1],").each do |").concat(t[1],"| %>");return r&&(i="<% ".concat(n[1],".step(").concat(c[1],", ").concat(r[1],").each do |").concat(t[1],"| %>")),i+=d(e),i+="<% end %>"}return g(e)}(e);default:return g(e)}}function d(e){var t="";return e.children.forEach((function(e){t+=m(e)})),t}function g(e){var t=e.content;return s.includes(e.name)?t:(t+=d(e),t+="</".concat(e.name,">"))}function A(e){return e.replaceAll(/(?=.)([A-Z])/g,(function(e,t){return"_".concat(t.toLowerCase())}))}function v(e){return e.replaceAll(/<!---[\s\S]*?--->/g,"")}function b(e){switch(e.name){case"root":return w(e);case"cfif":return function(e){var t=e.content.replaceAll(/<cfif ([\s\S]*?)>/g,(function(e,t){return"if ".concat(h(t))}));if(1===e.children.length&&"text"===e.first().name&&e.first().content.trim().length<50&&e.first().content.trim().length>0)return t.replace("if",'"'.concat(e.first().content.trim(),'" if'));return t+=w(e),t+="end"}(e);case"text":return function(e){return e.content}(e);case"cfelse":return"else";case"cfelseif":return function(e){return e.content.replaceAll(/<cfelseif ([\s\S]*?)>/g,(function(e,t){return"elsif ".concat(h(t))}))}(e);case"cfset":return function(e){return e.content.match(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/)?e.content.replace(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/,"@error_msg << $1"):e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,t,n){return"".concat(t," = ").concat(h(n))}))}(e);case"cfbreak":return"break";case"cfloop":return function(e){var t=e.content.match(/index="(\w+?)"/),n=e.content.match(/from="(\w+?)"/),c=e.content.match(/to="(\w+?)"/),r=e.content.match(/step="(\w+?)"/),a=e.content.match(/query="(\w+?)"/);if(a){var l="@".concat(a[1],".each do |").concat(j(a[1]),"| %>");return l+=w(e),(l+="end").replaceAll(a[1],j(a[1]))}if(t&&n&&c){var i="".concat(n[1],".step(").concat(c[1],").each do |").concat(t[1],"|");return r&&(i="".concat(n[1],".step(").concat(c[1],", ").concat(r[1],").each do |").concat(t[1],"|")),i+=w(e),i+="end"}return _(e)}(e);default:return _(e)}}function w(e){var t="";return e.children.forEach((function(e){t+=b(e)})),t}function _(e){var t=e.content;return s.includes(e.name)?t:(t+=w(e),t+="</".concat(e.name,">"))}function j(e){return e.replaceAll(/(?=.)([A-Z])/g,(function(e,t){return"_".concat(t.toLowerCase())}))}function q(e){return e.replaceAll(/<!---[\s\S]*?--->/g,"")}var x=["cfset","cfcontinue","cfelse","cfelseif","cfqueryparam","cfparam","cfbreak"];function S(e){return c=new Set,e.replaceAll(/<cfqueryparam.*?value="#([\w.]+?)#".*?>/g,(function(e,t){var n=t.replaceAll(".","_");return c.add(n),":"+n})).replaceAll(/<cfqueryparam cfsqltype="CF_SQL_TIMESTAMP" value="#Now\(\)#">/g,(function(e){return c.add("time_zone_now"),":time_zone_now"})).replaceAll(/<cfqueryparam(.*?)>/g,(function(e,t){var n=t.match(/cfsqltype="(.*?)"/),c=t.match(/value="(.*?)"/);if(!n||!c)return e;switch(n[1]){case"CF_SQL_VARCHAR":case"CF_SQL_INTEGER":default:return c[1]}}))}function O(e){var t=e.split(/(<cf[\s\S]+?>|<\/cf.*?>)/),n=new C("root"),c=n;return t.forEach((function(e,t){if(e.match(/<cf[\s\S]+?>/)){var n=e.match(/<(cf[a-z]+)[\s\S]*?>/);if(n){var r=new C(n[1],n[0]);if(c.add(r),x.includes(r.name))return;c=r}}else if(e.match(/<\/cf.*?>/)){var a=e.match(/<\/(cf.*?)>/);a&&a[1]===c.name&&(c=c.parent)}else c.add(new C("text",e))})),n}function y(e){switch(e.name){case"root":return E(e);case"cfif":return function(e){var t=e.content.replace(/<cfif ([\s\S]*?)>/,(function(e,t){return"if ".concat(k(t),"\n")}));return e.children.forEach((function(e){"text"===e.name?t+='sql += "'.concat(e.content.trim(),'"\n'):t+=y(e)})),t+="end\n"}(e);case"text":return function(e){return""===e.content.trim()?"":'\tsql += "'.concat(e.content.trim(),'"\n')}(e);case"cfelse":return"else";case"cfelseif":return function(e){return e.content.replace(/<cfelseif ([\s\S]*?)>/,(function(e,t){return"elsif ".concat(k(t),"\n")}))}(e);case"cfset":return function(e){return e.content.match(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/)?e.content.replace(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/,"@error_msg << $1"):e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,t,n){return"".concat(t," = ").concat(k(n))}))}(e);case"cfquery":return function(e){var t=e.content.match(/name="(\w+)"/);if(!t)return e.content;var n=c.has("time_zone_now");c.delete("time_zone_now");var r=Array.from(c),a="def ".concat(t[1],"(").concat(r.join(", "),")\n");"text"===e.first().name?a+='\tsql = "'.concat(e.first().content,'"\n'):a+='\tsql = ""\n';return e.children.forEach((function(e,t){"text"===e.name&&0===t||(a+="\t"+y(e))})),r=r.map((function(e){return"".concat(e,": ").concat(e)})),a+="\n\tfind_by_sql [sql, {".concat(r.join(", ")).concat(n?", time_zone_now: Time.zone.now":"","}]"),a+="\nend"}(e);default:return function(e){var t=e.content;return x.includes(e.name)?t:(t+=E(e),t+="</".concat(e.name,">"))}(e)}}function k(e){return e.trim().replaceAll(/is equal/gi,"==").replaceAll(/ eq /gi," == ").replaceAll(/ is not /gi," != ").replaceAll(/not equal/gi,"!=").replaceAll(/ neq /gi," != ").replaceAll(/greater than/gi,">").replaceAll(/ gt /gi," > ").replaceAll(/less than/gi,"<").replaceAll(/ lt /gi," < ").replaceAll(/greater than or equal to/gi,">=").replaceAll(/ gte /gi," >= ").replaceAll(/ ge /gi," >= ").replaceAll(/less than or equal to/gi,"<=").replaceAll(/ lte /gi," <= ").replaceAll(/ le /gi," <= ").replaceAll(/ is /gi," == ").replaceAll(/ and /gi," && ").replaceAll(/ or /gi," || ").replaceAll(/chkPermission\("([\w"]+)"\) (is|==) 1/g,'chk_permission?("$1")').replaceAll(/ == ""/g,".blank?")}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.name=e,this.content=t,this.children=[],this.add=function(e){this.children.push(e),e.parent=this},this.first=function(e){return this.children[0]}}function E(e){var t="";return e.children.forEach((function(e){t+=y(e)})),t}var L=function(){var e,t=Object(a.useState)("erb"),n=Object(u.a)(t,2),c=n[0],l=n[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),s=o[0],f=o[1],h=function(e){return e.replaceAll("\t","  ")};return Object(r.jsxs)("div",{className:"Converter",children:[Object(r.jsx)("div",{className:"select",children:Object(r.jsxs)("select",{value:c,onChange:function(e){l(e.target.value)},children:[Object(r.jsx)("option",{value:"erb",children:"Erb"}),Object(r.jsx)("option",{value:"rb",children:"Rb"}),Object(r.jsx)("option",{value:"cfquery",children:"cfquery"})]})}),Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"cfm",children:Object(r.jsx)("textarea",{className:"ta_cfm",onChange:function(e){var t=e.target.value;f(t)},value:s,placeholder:"cfm..."})}),Object(r.jsx)("div",{className:"erb",children:Object(r.jsx)("textarea",{className:"ta_erb",defaultValue:(e=s,"erb"===c?h(function(e){return(t=[p,m,v],function(e){return t.reduce((function(e,t){return t(e)}),e)})(e);var t}(e)):"rb"===c?h(function(e){return(t=[p,b,q],function(e){return t.reduce((function(e,t){return t(e)}),e)})(e);var t}(e)):"cfquery"===c?h(function(e){return(t=[S,O,y],function(e){return t.reduce((function(e,t){return t(e)}),e)})(e);var t}(e)):void 0),placeholder:"".concat(c,"...")})})]})]})};var N=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(L,{})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,12)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),r(e),a(e),l(e)}))};o.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root")),z()}},[[11,1,2]]]);
//# sourceMappingURL=main.007148d6.chunk.js.map