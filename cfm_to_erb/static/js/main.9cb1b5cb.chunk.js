(this.webpackJsonpcfm_to_erb=this.webpackJsonpcfm_to_erb||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),l=t.n(c),a=t(4),i=t.n(a),o=(t(10),t(3));var s=["cfset","cfcontinue","cfelse","cfelseif","cfqueryparam","cfparam","cfbreak"];function f(e){var n=e.split(/(<cf[\s\S]+?>|<\/cf.*?>)/),t=new u("root"),r=t;return n.forEach((function(e,n){if(e.match(/<cf[\s\S]+?>/)){var t=e.match(/<(cf[a-z]+)[\s\S]*?>/);if(t){var c=new u(t[1],t[0]);if(r.add(c),s.includes(c.name))return;r=c}}else if(e.match(/<\/cf.*?>/)){var l=e.match(/<\/(cf.*?)>/);l&&l[1]===r.name&&(r=r.parent)}else r.add(new u("text",e))})),t}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.name=e,this.content=n,this.children=[],this.add=function(e){this.children.push(e),e.parent=this},this.first=function(e){return this.children[0]}}function p(e){switch(e.name){case"root":return g(e);case"cfif":return function(e){var n=e.content.replaceAll(/<cfif ([\s\S]*?)>/g,(function(e,n){return"<% if ".concat(h(n)," %>")}));if(1===e.children.length&&"text"===e.first().name&&e.first().content.length<40)return n.replace("<% if",'<%= "'.concat(e.first().content,'" if'));return n+=g(e),n+="<% end %>"}(e);case"text":return function(e){var n=e.content;if(!(n=n.replaceAll(/##/g,"==@@")).match(/#/))return n.replaceAll("==@@","#");for(var t=n.split(/(["#])/),r=-1,c=0,l=0,a=0;a<t.length;a++)"#"!==t[a]?c>0&&'"'===t[a]&&(l+=1):(-1===r&&(r=a),(c+=1)>0&&c%2===0&&l%2===0&&-1!==r&&(t[r]="<%= ",t[a]=" %>",c=0,l=0,r=-1));return t.join("").replaceAll("==@@","#")}(e);case"cfelse":return"<% else %>";case"cfelseif":return function(e){return e.content.replaceAll(/<cfelseif ([\s\S]*?)>/g,(function(e,n){return"<% elsif ".concat(h(n)," %>")}))}(e);case"cfset":return function(e){return e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,n,t){return"<% ".concat(n," = ").concat(h(t)," %>")}))}(e);default:return function(e){var n=e.content;return s.includes(e.name)?n:(n+=g(e),n+="</".concat(e.name,">"))}(e)}}function h(e){return e.trim().replaceAll(/is equal/gi,"==").replaceAll(/ eq /gi," == ").replaceAll(/ is not /gi," != ").replaceAll(/not equal/gi,"!=").replaceAll(/ neq /gi," != ").replaceAll(/greater than/gi,">").replaceAll(/ gt /gi," > ").replaceAll(/less than/gi,"<").replaceAll(/ lt /gi," < ").replaceAll(/greater than or equal to/gi,">=").replaceAll(/ gte /gi," >= ").replaceAll(/ ge /gi," >= ").replaceAll(/less than or equal to/gi,"<=").replaceAll(/ lte /gi," <= ").replaceAll(/ le /gi," <= ").replaceAll(/ is /gi," == ").replaceAll(/ and /gi," && ").replaceAll(/ or /gi," || ").replaceAll(/chkPermission\("([\w"]+)"\) (is|==) 1/g,'chk_permission?("$1")').replaceAll(/ == ""/g,".blank?")}function g(e){var n="";return e.children.forEach((function(e){n+=p(e)})),n}var m=["cfset","cfcontinue","cfelse","cfelseif","cfqueryparam","cfparam","cfbreak"];function d(e){var n=e.split(/(<cf[\s\S]+?>|<\/cf.*?>)/),t=new A("root"),r=t;return n.forEach((function(e,n){if(e.match(/<cf[\s\S]+?>/)){var t=e.match(/<(cf[a-z]+)[\s\S]*?>/);if(t){var c=new A(t[1],t[0]);if(r.add(c),m.includes(c.name))return;r=c}}else if(e.match(/<\/cf.*?>/)){var l=e.match(/<\/(cf.*?)>/);l&&l[1]===r.name&&(r=r.parent)}else r.add(new A("text",e))})),t}function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.name=e,this.content=n,this.children=[],this.add=function(e){this.children.push(e),e.parent=this},this.first=function(e){return this.children[0]}}function v(e){switch(e.name){case"root":return _(e);case"cfif":return function(e){var n=e.content.replaceAll(/<cfif ([\s\S]*?)>/g,(function(e,n){return"if ".concat(b(n))}));if(1===e.children.length&&"text"===e.first().name&&e.first().content.length<40)return n.replace("if",'"'.concat(e.first().content,'" if'));return n+=_(e),n+="end"}(e);case"text":return function(e){return e.content}(e);case"cfelse":return"else";case"cfelseif":return function(e){return e.content.replaceAll(/<cfelseif ([\s\S]*?)>/g,(function(e,n){return"elsif ".concat(b(n))}))}(e);case"cfset":return function(e){return e.content.match(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/)?e.content.replace(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/,"@error_msg << $1"):e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,n,t){return"".concat(n," = ").concat(b(t))}))}(e);case"cfbreak":return"break";default:return function(e){var n=e.content;return m.includes(e.name)?n:(n+=_(e),n+="</".concat(e.name,">"))}(e)}}function b(e){return e.trim().replaceAll(/is equal/gi,"==").replaceAll(/ eq /gi," == ").replaceAll(/ is not /gi," != ").replaceAll(/not equal/gi,"!=").replaceAll(/ neq /gi," != ").replaceAll(/greater than/gi,">").replaceAll(/ gt /gi," > ").replaceAll(/less than/gi,"<").replaceAll(/ lt /gi," < ").replaceAll(/greater than or equal to/gi,">=").replaceAll(/ gte /gi," >= ").replaceAll(/ ge /gi," >= ").replaceAll(/less than or equal to/gi,"<=").replaceAll(/ lte /gi," <= ").replaceAll(/ le /gi," <= ").replaceAll(/ is /gi," == ").replaceAll(/ and /gi," && ").replaceAll(/ or /gi," || ").replaceAll(/chkPermission\("([\w"]+)"\) (is|==) 1/g,'chk_permission?("$1")').replaceAll(/ == ""/g,".blank?")}function _(e){var n="";return e.children.forEach((function(e){n+=v(e)})),n}var j=["cfset","cfcontinue","cfelse","cfelseif","cfqueryparam","cfparam","cfbreak"],q=new Set;function w(e){return e.replaceAll(/<cfqueryparam.*?value="#([\w.]+?)#".*?>/g,(function(e,n){var t=n.replaceAll(".","_");return q.add(t),":"+t})).replaceAll(/<cfqueryparam cfsqltype="CF_SQL_TIMESTAMP" value="#Now\(\)#">/g,(function(e){return q.add("time_zone_now"),":time_zone_now"})).replaceAll(/<cfqueryparam(.*?)>/g,(function(e,n){var t=n.match(/cfsqltype="(.*?)"/),r=n.match(/value="(.*?)"/);if(!t||!r)return e;switch(t[1]){case"CF_SQL_VARCHAR":case"CF_SQL_INTEGER":default:return r[1]}}))}function x(e){var n=e.split(/(<cf[\s\S]+?>|<\/cf.*?>)/),t=new k("root"),r=t;return n.forEach((function(e,n){if(e.match(/<cf[\s\S]+?>/)){var t=e.match(/<(cf[a-z]+)[\s\S]*?>/);if(t){var c=new k(t[1],t[0]);if(r.add(c),j.includes(c.name))return;r=c}}else if(e.match(/<\/cf.*?>/)){var l=e.match(/<\/(cf.*?)>/);l&&l[1]===r.name&&(r=r.parent)}else r.add(new k("text",e))})),t}function S(e){switch(e.name){case"root":return y(e);case"cfif":return function(e){var n=e.content.replace(/<cfif ([\s\S]*?)>/,(function(e,n){return"if ".concat(O(n),"\n")}));return e.children.forEach((function(e){"text"===e.name?n+='sql[0] += "'.concat(e.content.trim(),'"\n'):n+=S(e)})),n+="end\n"}(e);case"text":return function(e){return""===e.content.trim()?"":'\tsql[0] += "'.concat(e.content.trim(),'"\n')}(e);case"cfelse":return"else";case"cfelseif":return function(e){return e.content.replace(/<cfelseif ([\s\S]*?)>/,(function(e,n){return"elsif ".concat(O(n),"\n")}))}(e);case"cfset":return function(e){return e.content.match(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/)?e.content.replace(/<cfset error_msg = ListAppend\(error_msg, (.*?)\)>/,"@error_msg << $1"):e.content.replaceAll(/<cfset ([\w.]+?) = ([\s\S]*?)>/g,(function(e,n,t){return"".concat(n," = ").concat(O(t))}))}(e);case"cfquery":return function(e){var n=e.content.match(/name="(\w+)"/);if(!n)return e.content;var t=q.has("time_zone_now");q.delete("time_zone_now");var r=Array.from(q),c="def ".concat(n[1],"(").concat(r.join(", "),")\n");"text"===e.first().name?c+='\tsql[0] = "'.concat(e.first().content,'"\n'):c+='\tsql[0] = ""\n';return e.children.forEach((function(e,n){"text"===e.name&&0===n||(c+="\t"+S(e))})),r=r.map((function(e){return"".concat(e,": ").concat(e)})),c+="\n\tfind_by_sql [sql, {".concat(r.join(", ")).concat(t?", time_zone_now: Time.zone.now":"","}]"),c+="\nend"}(e);default:return function(e){var n=e.content;return j.includes(e.name)?n:(n+=y(e),n+="</".concat(e.name,">"))}(e)}}function O(e){return e.trim().replaceAll(/is equal/gi,"==").replaceAll(/ eq /gi," == ").replaceAll(/ is not /gi," != ").replaceAll(/not equal/gi,"!=").replaceAll(/ neq /gi," != ").replaceAll(/greater than/gi,">").replaceAll(/ gt /gi," > ").replaceAll(/less than/gi,"<").replaceAll(/ lt /gi," < ").replaceAll(/greater than or equal to/gi,">=").replaceAll(/ gte /gi," >= ").replaceAll(/ ge /gi," >= ").replaceAll(/less than or equal to/gi,"<=").replaceAll(/ lte /gi," <= ").replaceAll(/ le /gi," <= ").replaceAll(/ is /gi," == ").replaceAll(/ and /gi," && ").replaceAll(/ or /gi," || ").replaceAll(/chkPermission\("([\w"]+)"\) (is|==) 1/g,'chk_permission?("$1")').replaceAll(/ == ""/g,".blank?")}function k(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.name=e,this.content=n,this.children=[],this.add=function(e){this.children.push(e),e.parent=this},this.first=function(e){return this.children[0]}}function y(e){var n="";return e.children.forEach((function(e){n+=S(e)})),n}var E=function(){var e,n=Object(c.useState)("erb"),t=Object(o.a)(n,2),l=t[0],a=t[1],i=Object(c.useState)(""),s=Object(o.a)(i,2),u=s[0],h=s[1],g=function(e){return e.replaceAll("\t","  ")};return Object(r.jsxs)("div",{className:"Converter",children:[Object(r.jsx)("div",{className:"select",children:Object(r.jsxs)("select",{value:l,onChange:function(e){a(e.target.value)},children:[Object(r.jsx)("option",{value:"erb",children:"Erb"}),Object(r.jsx)("option",{value:"rb",children:"Rb"}),Object(r.jsx)("option",{value:"cfquery",children:"cfquery"})]})}),Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"cfm",children:Object(r.jsx)("textarea",{className:"ta_cfm",onChange:function(e){var n=e.target.value;h(n)},value:u,placeholder:"cfm..."})}),Object(r.jsx)("div",{className:"erb",children:Object(r.jsx)("textarea",{className:"ta_erb",defaultValue:(e=u,"erb"===l?g(function(e){return console.log(f(e)),(n=[f,p],function(e){return n.reduce((function(e,n){return n(e)}),e)})(e);var n}(e)):"rb"===l?g(function(e){return(n=[d,v],function(e){return n.reduce((function(e,n){return n(e)}),e)})(e);var n}(e)):"cfquery"===l?g(function(e){return(n=[w,x,S],function(e){return n.reduce((function(e,n){return n(e)}),e)})(e);var n}(e)):void 0),placeholder:"".concat(l,"...")})})]})]})};var C=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(E,{})})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,12)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,l=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),l(e),a(e)}))};i.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),N()}},[[11,1,2]]]);
//# sourceMappingURL=main.9cb1b5cb.chunk.js.map